const t=window.App.h;class e{constructor(){this.htmlRender=this.page_url,this.typelist=[],this.attributeList=[],this.operationList=["==","!=","<",">","<=",">="],this.attributeHasSelected="",this.attributeSelected="",this.operationSelected=""}handleSubmit(t){t.preventDefault();var e=this.selectedType;"All"==this.selectedType&&(e=""),null==this.filter&&(this.filter="");var i=this.attributeHasSelected+";"+this.attributeSelected+this.operationSelected+this.filter;";"==i&&(i="");var l=this.page_url.split('type="'),s=l[1].substring(l[1].indexOf('"')+1,l[1].length);this.htmlRender=l[0]+'type="'+e+'"'+s;var a=this.htmlRender.split('filter="'),r=a[1].substring(a[1].indexOf('"')+1,a[1].length);this.htmlRender=a[0]+'filter="'+i+'"'+r}handleChange(t){this.filter=t.target.value}componentWillLoad(){this.htmlRender=this.page_url,fetch("http://"+this.service_url+":3000/typeList").then(t=>t.json()).then(t=>{if(this.typelist=[],this.typelist.push("All"),t.forEach(t=>{this.typelist.push(t)}),this.typelist.length>0){this.selectedType=this.typelist[0];var e=this.selectedType;"All"==this.selectedType&&(e="");var i=this.page_url.split('type="'),l=i[1].substring(i[1].indexOf('"')+1,i[1].length);this.htmlRender=i[0]+'type="'+e+'"'+l,this.updateAttributeList()}})}updateAttributeList(){var t=this.selectedType;"All"==this.selectedType&&(t=""),fetch("http://"+this.service_url+":3000/attributeList?type="+t).then(t=>t.json()).then(t=>{this.attributeList=t})}clearFields(){this.attributeHasSelected="",this.attributeSelected="",this.operationSelected="",this.filter=""}entitySelected(t){switch(t.detail.split(":")[0]){case"typeCombo":return this.selectedType=t.detail.split(":")[1],this.updateAttributeList(),void this.clearFields();case"attributeHasCombo":return void(this.attributeHasSelected=t.detail.split(":")[1]);case"attributeCombo":return void(this.attributeSelected=t.detail.split(":")[1]);case"operationCombo":return void(this.operationSelected=t.detail.split(":")[1])}}render(){return t("div",null,t("form",{class:"filterHeader",onSubmit:t=>this.handleSubmit(t)},t("table",null,t("tr",null,t("th",null,t("div",null,t("h2",{class:"inputLabel"},"Entity Types"),t("table",null,t("tr",null,t("th",null,t("app-comboBox",{combodata:this.typelist,comboid:"typeCombo",selectedData:this.selectedType})))))),"All"==this.selectedType?t("th",null,t("div",null,t("h2",{class:"inputLabel"},"Has Attribute"),t("table",null,t("tr",null,t("th",null,t("app-comboBox",{combodata:this.attributeList,comboid:"attributeHasCombo",componentWidth:"200",selectedData:this.attributeHasSelected})))))):t("th",null),t("th",null,t("div",null,t("h2",{class:"inputLabel"},"Filter"),t("table",null,t("tr",null,t("th",null,t("app-comboBox",{combodata:this.attributeList,comboid:"attributeCombo",componentWidth:"200",selectedData:this.attributeSelected})),t("th",null,t("app-comboBox",{combodata:this.operationList,comboid:"operationCombo",componentWidth:"70",selectedData:this.operationSelected})),t("th",null,t("input",{class:"input",type:"text",value:this.filter,onInput:t=>this.handleChange(t)})),t("th",null,t("input",{class:"button -blue center",type:"submit",value:"Submit"})),t("th",null,t("input",{class:"button -orange center",type:"button",value:"Clear",onClick:this.clearFields.bind(this)}))))))))),t("h1",{innerHTML:this.htmlRender}))}static get is(){return"app-writeComponent"}static get encapsulation(){return"shadow"}static get properties(){return{attributeHasSelected:{state:!0},attributeList:{state:!0},attributeSelected:{state:!0},filter:{state:!0},htmlRender:{state:!0},operationList:{state:!0},operationSelected:{state:!0},page_url:{type:String,attr:"page_url"},selectedType:{state:!0},service_url:{type:String,attr:"service_url"},typelist:{state:!0}}}static get listeners(){return[{name:"entitySelected",method:"entitySelected"}]}static get style(){return".filterHeader{background:rgba(67,93,125,.95);color:#fff;border-radius:6px;padding:0 30px 16px;margin:25px;border:3px solid #435d7d}.input{background-image:url(searchicon.png);background-position:14px 12px;background-repeat:no-repeat;font-size:16px;padding:10px 20px 10px 15px;width:200px!important;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #d0d0d0;border-radius:4px}.inputLabel{text-align:left}.button{display:-ms-flexbox;display:flex;overflow:hidden;padding:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;white-space:nowrap;text-decoration:none!important;text-transform:none;text-transform:capitalize;color:#fff;border:0;border-radius:4px;font-size:13px;font-weight:500;line-height:1.3;-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex:0 0 160px;flex:0 0 160px;-webkit-box-shadow:2px 5px 10px var(--color-smoke);box-shadow:2px 5px 10px var(--color-smoke)}.button,.button:hover{-webkit-transition:all .15s linear;transition:all .15s linear}.button:hover{opacity:.85}.button:active{-webkit-transition:all .15s linear;transition:all .15s linear;opacity:.75}.button:focus{outline:1px dotted #959595;outline-offset:-4px}.button.-blue{color:#fff;background:#416dea}.button.-orange{color:#fff;background:#ce5f29}"}}export{e as AppWritecomponent};